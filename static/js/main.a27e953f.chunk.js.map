{"version":3,"sources":["img1.jpg","logo.svg","img2.jpg","App.js","reportWebVitals.js","index.js"],"names":["estimatePoseOnImage","imageElement","a","posenet","net","estimateSinglePose","pose","options","customWeight","mode","scores","App","useState","similarity","setSimilarity","canvas1Ref","useRef","canvas2Ref","useEffect","pose1ImageElement","document","getElementById","pose2ImageElement","Promise","all","then","poses","canvas1Ele","current","width","clientWidth","height","clientHeight","canvas2Ele","ctx","getContext","i","beginPath","strokeStyle","lineWidth","moveTo","position","x","y","lineTo","stroke","weightedDistance","poseSimilarity","console","log","pose_score","className","style","display","zIndex","ref","src","img1","id","flex","img2","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a27e953f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/img1.6573acd5.jpg\";","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/img2.537bd2a0.jpg\";","import React, { useEffect, useRef, useState } from \"react\";\n\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport img1 from \"./img1.jpg\";\nimport img2 from \"./img2.jpg\";\n\nimport * as posenet from \"@tensorflow-models/posenet\";\nimport { poseSimilarity } from \"posenet-similarity\";\n\n// For more detailed Posenet setup, please refer its own document.\nasync function estimatePoseOnImage(imageElement) {\n  // Load the posenet model from a checkpoint\n  const net = await posenet.load();\n  // Estimate the pose on the imageElement\n  const pose = await net.estimateSinglePose(imageElement);\n  return pose;\n}\n\n// Id\tPart\n// 0\tnose\n// 1\tleftEye\n// 2\trightEye\n// 3\tleftEar\n// 4\trightEar\n// 5\tleftShoulder\n// 6\trightShoulder\n// 7\tleftElbow\n// 8\trightElbow\n// 9\tleftWrist\n// 10\trightWrist\n// 11\tleftHip\n// 12\trightHip\n// 13\tleftKnee\n// 14\trightKnee\n// 15\tleftAnkle\n// 16\trightAnkle\n\nconst options = {\n  customWeight: {\n    mode: \"multiply\",\n    scores: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  },\n};\n\nfunction App() {\n  const [similarity, setSimilarity] = useState(0);\n  const canvas1Ref = useRef(null);\n  const canvas2Ref = useRef(null);\n\n  useEffect(() => {\n    const pose1ImageElement = document.getElementById(\"pose1\");\n    const pose2ImageElement = document.getElementById(\"pose2\");\n\n    Promise.all([\n      estimatePoseOnImage(pose1ImageElement),\n      estimatePoseOnImage(pose2ImageElement),\n    ]).then((poses) => {\n      // 카와이하게 그림을 그려볼거에요\n\n      const canvas1Ele = canvas1Ref.current;\n      canvas1Ele.width = canvas1Ele.clientWidth;\n      canvas1Ele.height = canvas1Ele.clientHeight;\n\n      const canvas2Ele = canvas2Ref.current;\n      canvas2Ele.width = canvas2Ele.clientWidth;\n      canvas2Ele.height = canvas2Ele.clientHeight;\n\n      var ctx = [canvas1Ele.getContext(\"2d\"), canvas2Ele.getContext(\"2d\")];\n\n      for (var i = 0; i < 2; i++) {\n        ctx[i].beginPath();\n        ctx[i].strokeStyle = \"#FF00FF\";\n        ctx[i].lineWidth = 2;\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][0].position.x,\n          poses[i][\"keypoints\"][0].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][1].position.x,\n          poses[i][\"keypoints\"][1].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][1].position.x,\n          poses[i][\"keypoints\"][1].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][2].position.x,\n          poses[i][\"keypoints\"][2].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][2].position.x,\n          poses[i][\"keypoints\"][2].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][0].position.x,\n          poses[i][\"keypoints\"][0].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][1].position.x,\n          poses[i][\"keypoints\"][1].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][2].position.x,\n          poses[i][\"keypoints\"][2].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][3].position.x,\n          poses[i][\"keypoints\"][3].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][4].position.x,\n          poses[i][\"keypoints\"][4].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][5].position.x,\n          poses[i][\"keypoints\"][5].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][6].position.x,\n          poses[i][\"keypoints\"][6].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][5].position.x,\n          poses[i][\"keypoints\"][5].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][7].position.x,\n          poses[i][\"keypoints\"][7].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][7].position.x,\n          poses[i][\"keypoints\"][7].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][9].position.x,\n          poses[i][\"keypoints\"][9].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][6].position.x,\n          poses[i][\"keypoints\"][6].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][8].position.x,\n          poses[i][\"keypoints\"][8].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][8].position.x,\n          poses[i][\"keypoints\"][8].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][10].position.x,\n          poses[i][\"keypoints\"][10].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][11].position.x,\n          poses[i][\"keypoints\"][11].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][12].position.x,\n          poses[i][\"keypoints\"][12].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][11].position.x,\n          poses[i][\"keypoints\"][11].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][5].position.x,\n          poses[i][\"keypoints\"][5].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][12].position.x,\n          poses[i][\"keypoints\"][12].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][6].position.x,\n          poses[i][\"keypoints\"][6].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][11].position.x,\n          poses[i][\"keypoints\"][11].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][13].position.x,\n          poses[i][\"keypoints\"][13].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][13].position.x,\n          poses[i][\"keypoints\"][13].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][15].position.x,\n          poses[i][\"keypoints\"][15].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][12].position.x,\n          poses[i][\"keypoints\"][12].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][14].position.x,\n          poses[i][\"keypoints\"][14].position.y\n        );\n\n        ctx[i].moveTo(\n          poses[i][\"keypoints\"][14].position.x,\n          poses[i][\"keypoints\"][14].position.y\n        );\n        ctx[i].lineTo(\n          poses[i][\"keypoints\"][16].position.x,\n          poses[i][\"keypoints\"][16].position.y\n        );\n\n        ctx[i].stroke();\n      }\n\n      // console.log(poses[1])\n      // console.log(poses[i]['keypoints'][0]['position']['x'])\n      // Calculate the weighted distance between the two poses\n      const weightedDistance = poseSimilarity(poses[0], poses[1], options);\n      console.log(weightedDistance);\n      const pose_score = 100 - weightedDistance * 100;\n      console.log(pose_score);\n      setSimilarity(pose_score);\n    });\n  });\n\n  return (\n    <div className=\"App\">\n      {similarity == 0 ? <h1>연산중입니다.</h1> : <h1>유사도 : {similarity}</h1>}\n      <div style={{ display: 'flex'}}>\n        <div style={{}}>\n          <canvas\n            width=\"500\"\n            height=\"1000\"\n            style={{ position: \"absolute\", zIndex: 9 }}\n            ref={canvas1Ref}\n          />\n          <img src={img1} id=\"pose1\" width=\"500\" style={{ zIndex: 1 }} />\n        </div>\n        <div style={{flex: 1}}>\n          <canvas\n            width=\"500\"\n            height=\"1000\"\n            style={{ position: \"absolute\", zIndex: 9 }}\n            ref={canvas2Ref}\n          />\n          <img src={img2} id=\"pose2\" width=\"500\" style={{ zIndex: 1 }} />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}